import { c as create_ssr_component, d as add_attribute } from "../../../chunks/ssr.js";
import "@sveltejs/kit/internal";
import "../../../chunks/exports.js";
import "../../../chunks/utils.js";
import "@sveltejs/kit/internal/server";
import "../../../chunks/state.svelte.js";
import "../../../chunks/supabaseClient.js";
const css = {
  code: `body{margin:0;padding:0;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;background:#2d2d30;min-height:100vh}.container.svelte-1z10ly9.svelte-1z10ly9{max-width:1600px;margin:0 auto;padding:2rem 1rem}.header.svelte-1z10ly9.svelte-1z10ly9{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header-controls.svelte-1z10ly9.svelte-1z10ly9{display:flex;align-items:center;gap:1rem}.debug-toggle.svelte-1z10ly9.svelte-1z10ly9{display:flex;align-items:center;gap:0.5rem;color:white;font-weight:600;cursor:pointer;background:rgba(255, 255, 255, 0.1);padding:0.5rem 1rem;border-radius:6px;border:2px solid rgba(255, 255, 255, 0.3);transition:all 0.2s}.debug-toggle.svelte-1z10ly9.svelte-1z10ly9:hover{background:rgba(255, 255, 255, 0.2);border-color:rgba(255, 255, 255, 0.5)}.debug-toggle.svelte-1z10ly9 input[type="checkbox"].svelte-1z10ly9{cursor:pointer;width:18px;height:18px}.debug-panel.svelte-1z10ly9.svelte-1z10ly9{background:#fff3cd;border:2px solid #ffc107;padding:1rem;margin-bottom:1rem;border-radius:8px;font-family:'Courier New', monospace;font-size:0.9rem}.debug-panel.svelte-1z10ly9 p.svelte-1z10ly9{margin:0.5rem 0}.debug-panel.svelte-1z10ly9 strong.svelte-1z10ly9{color:#856404}h1.svelte-1z10ly9.svelte-1z10ly9{color:white;margin:0;font-size:2rem}h2.svelte-1z10ly9.svelte-1z10ly9,h3.svelte-1z10ly9.svelte-1z10ly9{margin-top:0;color:#e0e0e0}.btn-logout.svelte-1z10ly9.svelte-1z10ly9{padding:0.5rem 1rem;background:rgba(255, 255, 255, 0.1);color:white;border:2px solid rgba(255, 255, 255, 0.3);border-radius:6px;cursor:pointer;font-weight:600}.btn-logout.svelte-1z10ly9.svelte-1z10ly9:hover{background:rgba(255, 255, 255, 0.2)}.card.svelte-1z10ly9.svelte-1z10ly9{background:#3e3e42;border-radius:12px;padding:2rem;box-shadow:0 10px 40px rgba(0, 0, 0, 0.3);margin-bottom:2rem}.alert.svelte-1z10ly9.svelte-1z10ly9{padding:1rem;border-radius:8px;margin-bottom:1rem;font-weight:500}.alert-info.svelte-1z10ly9.svelte-1z10ly9{background:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.control-grid.svelte-1z10ly9.svelte-1z10ly9{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:1rem;align-items:end}.stats-grid.svelte-1z10ly9.svelte-1z10ly9{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:1.5rem;margin-top:1rem}.stat.svelte-1z10ly9.svelte-1z10ly9{text-align:center;padding:1rem;background:#252526;border-radius:8px}.stat-label.svelte-1z10ly9.svelte-1z10ly9{font-size:0.9rem;color:#9d9d9d;margin-bottom:0.5rem}.stat-value.svelte-1z10ly9.svelte-1z10ly9{font-size:1.8rem;font-weight:bold;color:#8a9dff}.stat-value.status-ready.svelte-1z10ly9.svelte-1z10ly9{color:#4ec9b0}.stat-value.status-waiting.svelte-1z10ly9.svelte-1z10ly9{color:#dcdcaa}label.svelte-1z10ly9.svelte-1z10ly9{display:block;margin-bottom:0.5rem;font-weight:600;color:#cccccc}input[type="number"].svelte-1z10ly9.svelte-1z10ly9{width:100%;padding:0.5rem;border:2px solid #555;border-radius:6px;font-size:1rem;background:#252526;color:#e0e0e0;appearance:textfield;-moz-appearance:textfield}input[type="number"].svelte-1z10ly9.svelte-1z10ly9::-webkit-outer-spin-button,input[type="number"].svelte-1z10ly9.svelte-1z10ly9::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.btn.svelte-1z10ly9.svelte-1z10ly9{padding:0.75rem 1.5rem;font-size:0.95rem;font-weight:600;border:none;border-radius:6px;cursor:pointer;transition:all 0.2s;width:100%}.btn.svelte-1z10ly9.svelte-1z10ly9:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px rgba(0, 0, 0, 0.2)}.btn.svelte-1z10ly9.svelte-1z10ly9:disabled{opacity:0.5;cursor:not-allowed}.btn-primary.svelte-1z10ly9.svelte-1z10ly9{background:#667eea;color:white}.btn-secondary.svelte-1z10ly9.svelte-1z10ly9{background:#6c757d;color:white}.btn-success.svelte-1z10ly9.svelte-1z10ly9{background:#28a745;color:white}.btn-info.svelte-1z10ly9.svelte-1z10ly9{background:#17a2b8;color:white}.btn-danger.svelte-1z10ly9.svelte-1z10ly9{background:#dc3545;color:white}.btn-warning.svelte-1z10ly9.svelte-1z10ly9{background:#ffc107;color:#000}.btn-large.svelte-1z10ly9.svelte-1z10ly9{font-size:1.1rem;padding:1rem 2rem}table.svelte-1z10ly9.svelte-1z10ly9{width:100%;border-collapse:collapse;margin-top:1rem}th.svelte-1z10ly9.svelte-1z10ly9,td.svelte-1z10ly9.svelte-1z10ly9{padding:0.75rem;text-align:left;border-bottom:1px solid #555;color:#cccccc}th.svelte-1z10ly9.svelte-1z10ly9{background:#252526;font-weight:600;color:#e0e0e0}tbody.svelte-1z10ly9 tr.svelte-1z10ly9:hover{background:#252526}.badge.svelte-1z10ly9.svelte-1z10ly9{padding:0.25rem 0.75rem;border-radius:12px;font-size:0.85rem;font-weight:600}.badge-success.svelte-1z10ly9.svelte-1z10ly9{background:#d4edda;color:#155724}.badge-warning.svelte-1z10ly9.svelte-1z10ly9{background:#fff3cd;color:#856404}.badge-info.svelte-1z10ly9.svelte-1z10ly9{background:#d1ecf1;color:#0c5460}.badge-secondary.svelte-1z10ly9.svelte-1z10ly9{background:#e2e3e5;color:#383d41}.table-scroll.svelte-1z10ly9.svelte-1z10ly9{overflow-x:auto}.discovered.svelte-1z10ly9.svelte-1z10ly9{background:#d4edda;font-weight:bold;color:#155724}.log-container.svelte-1z10ly9.svelte-1z10ly9{max-height:400px;overflow-y:auto;padding:1rem;background:#252526;border-radius:6px}.log-entry.svelte-1z10ly9.svelte-1z10ly9{padding:0.5rem;margin-bottom:0.5rem;background:#3e3e42;border-radius:4px;font-size:0.9rem;color:#cccccc}.log-round.svelte-1z10ly9.svelte-1z10ly9{display:inline-block;background:#667eea;color:white;padding:0.125rem 0.5rem;border-radius:4px;font-weight:600;margin-right:0.5rem}.muted.svelte-1z10ly9.svelte-1z10ly9{color:#9d9d9d;font-style:italic}.admin-tools.svelte-1z10ly9.svelte-1z10ly9{display:flex;flex-wrap:wrap;gap:1rem;align-items:center}.force-submit-group.svelte-1z10ly9.svelte-1z10ly9{display:flex;gap:0.5rem;flex:1;min-width:300px}.force-submit-group.svelte-1z10ly9 select.svelte-1z10ly9{flex:1;padding:0.75rem;border:2px solid #555;border-radius:6px;font-size:0.95rem;background:#252526;color:#e0e0e0}`,
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount } from \\"svelte\\";\\nimport { goto } from \\"$app/navigation\\";\\nimport { supabase } from \\"$lib/supabaseClient\\";\\nimport { GAME_CONFIG, TEAMS } from \\"$lib/config\\";\\nimport {\\n  empty_team_state,\\n  compute_W_from_GDP,\\n  compute_pop_weights,\\n  compute_initial_K,\\n  compute_im_weights,\\n  roll_dice,\\n  normalize_metric\\n} from \\"$lib/gameLogic\\";\\nlet gameState = null;\\nlet loading = true;\\nlet statusMessage = \\"\\";\\nlet selectedHistoryRound = \\"\\";\\nlet forceSubmitTeam = \\"\\";\\nlet showDebug = false;\\nonMount(async () => {\\n  const role = sessionStorage.getItem(\\"wargame_role\\");\\n  const auth = sessionStorage.getItem(\\"wargame_auth\\");\\n  if (!role || auth !== \\"true\\" || role !== \\"GM\\") {\\n    goto(\\"/\\");\\n    return;\\n  }\\n  await loadGameState();\\n  supabase.channel(\\"game-updates\\").on(\\n    \\"postgres_changes\\",\\n    { event: \\"*\\", schema: \\"public\\", table: \\"game_state\\" },\\n    (payload) => {\\n      if (payload.new && \\"data\\" in payload.new) {\\n        gameState = payload.new.data;\\n      }\\n    }\\n  ).subscribe();\\n});\\nasync function loadGameState() {\\n  loading = true;\\n  try {\\n    const { data, error } = await supabase.from(\\"game_state\\").select(\\"*\\").limit(1).maybeSingle();\\n    if (error) {\\n      console.error(\\"Error loading game state:\\", error);\\n      statusMessage = \\"Error loading game state: \\" + error.message;\\n      gameState = null;\\n    } else if (data) {\\n      console.log(\\"Raw data from Supabase:\\", data);\\n      gameState = data.data;\\n      console.log(\\"Parsed gameState:\\", gameState);\\n      statusMessage = \\"Game state loaded\\";\\n    } else {\\n      statusMessage = \\"No data found in database\\";\\n      gameState = null;\\n    }\\n  } catch (err) {\\n    console.error(\\"Exception loading game state:\\", err);\\n    statusMessage = \\"Error: \\" + (err instanceof Error ? err.message : String(err));\\n    gameState = null;\\n  }\\n  loading = false;\\n}\\nasync function createEmptyGameState() {\\n  loading = true;\\n  statusMessage = \\"Creating empty game state...\\";\\n  try {\\n    const emptyState = {\\n      round: 1,\\n      game_ready: false,\\n      round_resolved: false,\\n      teams: {},\\n      submissions: {},\\n      global_BR_pool: { L: 0, M: 0, H: 0 },\\n      public_log: [],\\n      private_logs: {\\n        US: [],\\n        China: [],\\n        France: [],\\n        Russia: []\\n      },\\n      active_users: {\\n        US: false,\\n        China: false,\\n        France: false,\\n        Russia: false\\n      },\\n      history: []\\n    };\\n    console.log(\\"Attempting to insert game state...\\");\\n    const { data, error } = await supabase.from(\\"game_state\\").insert({ data: emptyState }).select().single();\\n    if (error) {\\n      console.error(\\"Supabase error creating game state:\\", error);\\n      statusMessage = \`Error creating game state: \${error.message} (\${error.code})\`;\\n    } else {\\n      console.log(\\"Created game state successfully:\\", data);\\n      gameState = emptyState;\\n      statusMessage = 'Empty game state created. Click \\"Initialize Game\\" to set up teams.';\\n    }\\n  } catch (err) {\\n    console.error(\\"Exception creating game state:\\", err);\\n    statusMessage = \\"Error: \\" + (err instanceof Error ? err.message : String(err));\\n  }\\n  loading = false;\\n}\\nasync function saveGameState() {\\n  if (!gameState) return;\\n  const { error } = await supabase.from(\\"game_state\\").update({ data: gameState, updated_at: (/* @__PURE__ */ new Date()).toISOString() }).eq(\\"id\\", (await supabase.from(\\"game_state\\").select(\\"id\\").single()).data?.id);\\n  if (error) {\\n    statusMessage = \\"Error saving game state\\";\\n    console.error(error);\\n  } else {\\n    statusMessage = \\"Game state saved\\";\\n  }\\n}\\nasync function initializeGame() {\\n  if (gameState?.game_ready) {\\n    if (!confirm(\\"Game already initialized. Reset and start over?\\")) return;\\n  }\\n  const gdps = TEAMS.map((t) => GAME_CONFIG.init_by_team[t].GDP);\\n  const pops = TEAMS.map((t) => GAME_CONFIG.init_by_team[t].POP);\\n  const W_vals = compute_W_from_GDP(gdps);\\n  const POP_wts = compute_pop_weights(pops);\\n  const teams = {};\\n  TEAMS.forEach((t, idx) => {\\n    const st = empty_team_state();\\n    const init = GAME_CONFIG.init_by_team[t];\\n    st.GDP = gdps[idx];\\n    st.POP = pops[idx];\\n    st.W = W_vals[idx];\\n    st.SE = init.SE;\\n    st.TE = init.TE;\\n    st.IM = init.IM;\\n    st.regime = init.regime;\\n    st.K = compute_initial_K(st.SE, st.TE, 1);\\n    st.TK = 0;\\n    if (t === \\"France\\") st.TK += 4;\\n    if (t === \\"Russia\\") st.TK += 7;\\n    teams[t] = st;\\n  });\\n  gameState = {\\n    round: 1,\\n    teams,\\n    submissions: { US: null, China: null, France: null, Russia: null },\\n    global_BR_pool: { L: 0, M: 0, H: 0 },\\n    public_log: [],\\n    private_logs: { US: [], China: [], France: [], Russia: [] },\\n    active_users: { US: false, China: false, France: false, Russia: false },\\n    game_ready: true,\\n    history: [],\\n    round_resolved: false\\n  };\\n  await saveGameState();\\n  statusMessage = \\"Game initialized! Players can now join.\\";\\n}\\nasync function resolveRound() {\\n  if (!gameState) return;\\n  if (gameState.round_resolved) {\\n    statusMessage = \\"Error: This round has already been resolved. Advance to next round.\\";\\n    return;\\n  }\\n  const allSubmitted2 = TEAMS.every((t) => gameState.teams[t].submitted);\\n  if (!allSubmitted2) {\\n    if (!confirm(\\"Not all teams have submitted. Resolve anyway?\\")) return;\\n  }\\n  TEAMS.forEach((t) => {\\n    gameState.teams[t].TP_last_round = { ...gameState.teams[t].TP };\\n  });\\n  const public_events = [];\\n  const private_events = { US: [], China: [], France: [], Russia: [] };\\n  const pw = compute_pop_weights(TEAMS.map((t) => gameState.teams[t].POP));\\n  const imw = compute_im_weights(gameState.teams);\\n  TEAMS.forEach((t, idx) => {\\n    const st = gameState.teams[t];\\n    const alloc = gameState.submissions[t];\\n    if (!alloc) return;\\n    if (alloc.IM === \\"open\\" && st.IM === 0) st.IM = 1;\\n    if (alloc.IM === \\"close\\" && st.IM === 1) st.IM = 0;\\n    if (alloc.SE > 0) st.K += 1 * pw[idx];\\n    if (alloc.TE > 0) st.K += 1 * (1 + st.IM);\\n  });\\n  TEAMS.forEach((t) => {\\n    const st = gameState.teams[t];\\n    st.K *= imw[t];\\n  });\\n  TEAMS.forEach((t) => {\\n    const st = gameState.teams[t];\\n    const alloc = gameState.submissions[t];\\n    if (!alloc || alloc.BR === 0) return;\\n    const rolls = roll_dice(alloc.BR);\\n    let successes = rolls.filter((r) => r >= 4).length;\\n    if (st.regime === \\"demo\\") successes = Math.round(successes * 1.1);\\n    else if (st.regime === \\"auto\\") successes = Math.round(successes * 0.9);\\n    const k_bonus = Math.floor(st.K / 10);\\n    successes += k_bonus;\\n    st.BR_total += successes;\\n    st.TK += successes;\\n    public_events.push(\`Round \${gameState.round}: \${t} - BR successes = \${successes} (rolls: \${rolls.join(\\", \\")})\`);\\n  });\\n  const total_BR = TEAMS.reduce((sum, t) => sum + gameState.teams[t].BR_total, 0);\\n  TEAMS.forEach((t) => {\\n    const own_BR = gameState.teams[t].BR_total;\\n    const others_BR = total_BR - own_BR;\\n    gameState.teams[t].BR_effective = own_BR + 0.75 * others_BR;\\n  });\\n  public_events.push(\`Round \${gameState.round}: Global BR - \${TEAMS.map((t) => \`\${t}=\${gameState.teams[t].BR_total}\`).join(\\", \\")}\`);\\n  TEAMS.forEach((t) => {\\n    const st = gameState.teams[t];\\n    const alloc = gameState.submissions[t];\\n    if (!alloc) return;\\n    [\\"L\\", \\"M\\", \\"H\\"].forEach((tech) => {\\n      const n_dice = alloc.AR[tech];\\n      if (n_dice === 0) return;\\n      const tech_info = GAME_CONFIG.tech_info[tech];\\n      if (st.BR_effective < tech_info.br_req) {\\n        private_events[t].push(\`Round \${gameState.round}: AR(\${tech}) skipped - need \${tech_info.br_req} BR\`);\\n        return;\\n      }\\n      const rolls = roll_dice(n_dice);\\n      let successes = rolls.filter((r) => r >= tech_info.ar_thr).length;\\n      if (tech !== \\"L\\") {\\n        if (st.regime === \\"auto\\") successes = Math.round(successes * 1.1);\\n        else if (st.regime === \\"demo\\") successes = Math.round(successes * 0.9);\\n      }\\n      st.TK += n_dice;\\n      let TK_adj = st.TK;\\n      if (tech === \\"M\\" && st.K < GAME_CONFIG.min_requirements.M.K_min) {\\n        TK_adj = Math.max(0, TK_adj - 10);\\n      }\\n      if (tech === \\"H\\") {\\n        if (st.K < GAME_CONFIG.min_requirements.H.K_min || st.TK < GAME_CONFIG.min_requirements.H.TK_min) {\\n          TK_adj = Math.max(0, TK_adj - 10);\\n        }\\n      }\\n      const tp_gains = tech_info.tp_draw(successes, TK_adj);\\n      const tp_gain = tp_gains.reduce((a, b) => a + b, 0);\\n      if (successes > 0) {\\n        st.TP[tech] += tp_gain;\\n        private_events[t].push(\`Round \${gameState.round}: AR(\${tech}) successes=\${successes} \\\\u2192 TP +\${tp_gain}\`);\\n      } else {\\n        private_events[t].push(\`Round \${gameState.round}: AR(\${tech}) no successes\`);\\n      }\\n      if (st.TP[tech] >= GAME_CONFIG.tp_threshold[tech] && !st.discovered[tech]) {\\n        st.discovered[tech] = true;\\n        private_events[t].push(\`Round \${gameState.round}: Discovered \${tech} tech!\`);\\n      }\\n    });\\n  });\\n  TEAMS.forEach((t) => {\\n    const st = gameState.teams[t];\\n    const alloc = gameState.submissions[t];\\n    if (!alloc || !alloc.SP) return;\\n    alloc.SP.forEach((sp) => {\\n      if (!sp || !sp.target) return;\\n      const target = sp.target;\\n      const tech = sp.tech;\\n      const tgt_st = gameState.teams[target];\\n      const roll = Math.floor(Math.random() * 6) + 1;\\n      let eff_roll = roll;\\n      if (tgt_st.IM === 1) eff_roll = Math.min(6, roll + 1);\\n      else eff_roll = Math.max(1, roll - 1);\\n      const caught_threshold = tech === \\"L\\" ? 1 : tech === \\"M\\" ? 2 : 3;\\n      const fail_range = tech === \\"L\\" ? [2, 3] : tech === \\"M\\" ? [3, 4] : [4];\\n      if (eff_roll <= caught_threshold) {\\n        st.spy_caught_count[target][tech]++;\\n        public_events.push(\`Round \${gameState.round}: \${t} spy on \${target} (\${tech}) CAUGHT (roll=\${roll}\\\\u2192\${eff_roll})\`);\\n      } else if (fail_range.includes(eff_roll)) {\\n        private_events[t].push(\`Round \${gameState.round}: Spy failed vs \${target} (\${tech})\`);\\n      } else if (eff_roll === 5) {\\n        st.spy_revealed[target][tech] = true;\\n        private_events[t].push(\`Round \${gameState.round}: OBSERVE - Saw \${target} TP(\${tech})=\${tgt_st.TP[tech]}\`);\\n      } else if (eff_roll === 6) {\\n        st.spy_revealed[target][tech] = true;\\n        const past_tp = tgt_st.TP_last_round[tech];\\n        st.TP[tech] = Math.max(st.TP[tech], past_tp);\\n        private_events[t].push(\`Round \${gameState.round}: STEAL SUCCESS - copied TP(\${tech})=\${past_tp} from \${target}\`);\\n      }\\n    });\\n  });\\n  public_events.forEach((event) => {\\n    gameState.public_log.push({ round: gameState.round, event });\\n  });\\n  TEAMS.forEach((t) => {\\n    private_events[t].forEach((event) => {\\n      gameState.private_logs[t].push({ round: gameState.round, event });\\n    });\\n  });\\n  TEAMS.forEach((t) => {\\n    gameState.teams[t].submitted = false;\\n    gameState.submissions[t] = null;\\n  });\\n  gameState.round_resolved = true;\\n  await saveGameState();\\n  statusMessage = \`Round \${gameState.round} resolved! You can now advance to the next round.\`;\\n}\\nasync function advanceRound() {\\n  if (!gameState) return;\\n  if (!gameState.round_resolved) {\\n    statusMessage = \\"Error: You must resolve the current round before advancing.\\";\\n    return;\\n  }\\n  if (gameState.round >= GAME_CONFIG.max_rounds) {\\n    statusMessage = \\"Final round reached!\\";\\n    return;\\n  }\\n  TEAMS.forEach((t) => {\\n    const st = gameState.teams[t];\\n    if (st.pending_W_carryover) {\\n      st.W += st.pending_W_carryover;\\n      st.last_carryover = st.pending_W_carryover;\\n      st.pending_W_carryover = 0;\\n    }\\n  });\\n  gameState.round++;\\n  gameState.round_resolved = false;\\n  await saveGameState();\\n  statusMessage = \`Advanced to Round \${gameState.round}\`;\\n}\\nasync function hardReset() {\\n  if (!confirm(\\"HARD RESET: Delete all game data and start from Round 1?\\")) return;\\n  await initializeGame();\\n  if (gameState) {\\n    gameState.game_ready = false;\\n    gameState.round = 1;\\n    gameState.round_resolved = false;\\n    await saveGameState();\\n  }\\n  statusMessage = \\"Game reset to initial state\\";\\n}\\nasync function forceUnlockAll() {\\n  if (!gameState) return;\\n  TEAMS.forEach((t) => {\\n    gameState.active_users[t] = false;\\n  });\\n  await saveGameState();\\n  statusMessage = \\"All teams unlocked\\";\\n}\\nasync function forceMarkSubmitted() {\\n  if (!gameState || !forceSubmitTeam) return;\\n  gameState.teams[forceSubmitTeam].submitted = true;\\n  await saveGameState();\\n  statusMessage = \`\${forceSubmitTeam} marked as submitted\`;\\n  forceSubmitTeam = \\"\\";\\n}\\nfunction logout() {\\n  sessionStorage.clear();\\n  goto(\\"/\\");\\n}\\n$: submissionCount = gameState ? TEAMS.filter((t) => gameState.teams[t]?.submitted).length : 0;\\n$: allSubmitted = submissionCount === 4;\\n<\/script>\\n\\n<svelte:head>\\n\\t<title>Game Master Control Panel</title>\\n</svelte:head>\\n\\n<main class=\\"container\\">\\n\\t<div class=\\"header\\">\\n\\t\\t<h1>Game Master Control Panel</h1>\\n\\t\\t<div class=\\"header-controls\\">\\n\\t\\t\\t<label class=\\"debug-toggle\\">\\n\\t\\t\\t\\t<input type=\\"checkbox\\" bind:checked={showDebug} />\\n\\t\\t\\t\\t<span>Debug Mode</span>\\n\\t\\t\\t</label>\\n\\t\\t\\t<button on:click={logout} class=\\"btn-logout\\">Logout</button>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<!-- Debug info -->\\n\\t{#if showDebug}\\n\\t\\t<div class=\\"debug-panel\\">\\n\\t\\t\\t<p><strong>Debug Info:</strong></p>\\n\\t\\t\\t<p>Loading: {loading}</p>\\n\\t\\t\\t<p>GameState: {gameState ? 'exists' : 'null'}</p>\\n\\t\\t\\t<p>Status: {statusMessage}</p>\\n\\t\\t\\t{#if gameState}\\n\\t\\t\\t\\t<p>Teams: {JSON.stringify(Object.keys(gameState.teams || {}))}</p>\\n\\t\\t\\t\\t<p>Game Ready: {gameState.game_ready}</p>\\n\\t\\t\\t\\t<p>Round: {gameState.round}</p>\\n\\t\\t\\t{/if}\\n\\t\\t</div>\\n\\t{/if}\\n\\n\\t{#if loading}\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h2>Loading game state...</h2>\\n\\t\\t\\t<p>Please wait...</p>\\n\\t\\t</div>\\n\\t{:else if !gameState}\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h2 style=\\"color: red;\\">No Game State Found</h2>\\n\\t\\t\\t<p>The database table exists but has no data.</p>\\n\\t\\t\\t<p><strong>Status:</strong> {statusMessage}</p>\\n\\t\\t\\t<div style=\\"margin-top: 1.5rem; display: flex; gap: 1rem;\\">\\n\\t\\t\\t\\t<button on:click={createEmptyGameState} class=\\"btn btn-success\\">\\n\\t\\t\\t\\t\\tCreate Empty Game State\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button on:click={loadGameState} class=\\"btn btn-secondary\\">\\n\\t\\t\\t\\t\\tRetry Loading\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div style=\\"margin-top: 1.5rem; padding: 1rem; background: #f0f0f0; border-radius: 6px;\\">\\n\\t\\t\\t\\t<p style=\\"margin: 0; font-size: 0.9rem;\\"><strong>Steps:</strong></p>\\n\\t\\t\\t\\t<ol style=\\"margin: 0.5rem 0; font-size: 0.9rem;\\">\\n\\t\\t\\t\\t\\t<li>Click \\"Create Empty Game State\\" to add initial data</li>\\n\\t\\t\\t\\t\\t<li>Then click \\"Initialize Game\\" to set up all teams</li>\\n\\t\\t\\t\\t\\t<li>Teams can then log in and start playing</li>\\n\\t\\t\\t\\t</ol>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t{:else if gameState && (!gameState.teams || Array.isArray(gameState.teams) || Object.keys(gameState.teams).length === 0)}\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h2 style=\\"color: orange;\\">Game Not Initialized</h2>\\n\\t\\t\\t<p>The game state exists but teams haven't been set up yet.</p>\\n\\t\\t\\t<p><strong>Current Status:</strong> Round {gameState.round}, {gameState.game_ready ? 'Ready' : 'Not Ready'}</p>\\n\\t\\t\\t<div style=\\"margin-top: 1.5rem;\\">\\n\\t\\t\\t\\t<button on:click={initializeGame} class=\\"btn btn-primary btn-large\\">\\n\\t\\t\\t\\t\\tInitialize Game & Set Up Teams\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div style=\\"margin-top: 1.5rem; padding: 1rem; background: #f0f0f0; border-radius: 6px;\\">\\n\\t\\t\\t\\t<p style=\\"margin: 0 0 0.5rem 0; font-size: 0.9rem;\\"><strong>What this does:</strong></p>\\n\\t\\t\\t\\t<ul style=\\"margin: 0; font-size: 0.9rem; padding-left: 1.5rem;\\">\\n\\t\\t\\t\\t\\t<li>Sets up all 4 teams (US, China, France, Russia)</li>\\n\\t\\t\\t\\t\\t<li>Assigns starting GDP, population, and resources</li>\\n\\t\\t\\t\\t\\t<li>Initializes talent pools and technology levels</li>\\n\\t\\t\\t\\t\\t<li>Enables teams to log in and start playing</li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t{:else}\\n\\t\\t<!-- Status Message -->\\n\\t\\t{#if statusMessage}\\n\\t\\t\\t<div class=\\"alert alert-info\\">{statusMessage}</div>\\n\\t\\t{/if}\\n\\n\\t\\t{#if !gameState.game_ready}\\n\\t\\t\\t<div class=\\"card\\" style=\\"background: #fff3cd; border: 2px solid #ffc107;\\">\\n\\t\\t\\t\\t<h2 style=\\"color: #856404;\\">Game Not Initialized</h2>\\n\\t\\t\\t\\t<p>The game state exists but teams haven't been set up yet.</p>\\n\\t\\t\\t\\t<p><strong>Click \\"Initialize Game\\" below to set up all teams with their starting values.</strong></p>\\n\\t\\t\\t</div>\\n\\t\\t{/if}\\n\\n\\t\\t<!-- Main Controls -->\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h2>Main Controls</h2>\\n\\t\\t\\t<div class=\\"control-grid\\">\\n\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t\\tCurrent Round:\\n\\t\\t\\t\\t\\t\\t<input type=\\"number\\" bind:value={gameState.round} min=\\"1\\" max={GAME_CONFIG.max_rounds} />\\n\\t\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<button on:click={initializeGame} class=\\"btn btn-primary\\">\\n\\t\\t\\t\\t\\t{gameState.game_ready ? 'Reinitialize Game' : 'Initialize Game'}\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button on:click={saveGameState} class=\\"btn btn-secondary\\">Save Now</button>\\n\\t\\t\\t\\t<button \\n\\t\\t\\t\\t\\ton:click={resolveRound} \\n\\t\\t\\t\\t\\tclass=\\"btn btn-success\\" \\n\\t\\t\\t\\t\\tdisabled={!gameState.game_ready || gameState.round_resolved}\\n\\t\\t\\t\\t\\ttitle={gameState.round_resolved ? 'Round already resolved - advance to next round' : 'Process team submissions and calculate results'}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t{gameState.round_resolved ? 'Round Already Resolved' : 'Resolve Round'}\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button \\n\\t\\t\\t\\t\\ton:click={advanceRound} \\n\\t\\t\\t\\t\\tclass=\\"btn btn-info\\" \\n\\t\\t\\t\\t\\tdisabled={!gameState.game_ready || !gameState.round_resolved}\\n\\t\\t\\t\\t\\ttitle={!gameState.round_resolved ? 'Must resolve current round first' : 'Move to the next round'}\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\tAdvance Round\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button on:click={hardReset} class=\\"btn btn-danger\\">Hard Reset</button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Quick Stats -->\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h3>Quick Stats</h3>\\n\\t\\t\\t<div class=\\"stats-grid\\">\\n\\t\\t\\t\\t<div class=\\"stat\\">\\n\\t\\t\\t\\t\\t<div class=\\"stat-label\\">Current Round</div>\\n\\t\\t\\t\\t\\t<div class=\\"stat-value\\">{gameState.round}/{GAME_CONFIG.max_rounds}</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\"stat\\">\\n\\t\\t\\t\\t\\t<div class=\\"stat-label\\">Game Status</div>\\n\\t\\t\\t\\t\\t<div class=\\"stat-value {gameState.game_ready ? 'status-ready' : 'status-waiting'}\\">\\n\\t\\t\\t\\t\\t\\t{gameState.game_ready ? 'Ready' : 'Not Started'}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\"stat\\">\\n\\t\\t\\t\\t\\t<div class=\\"stat-label\\">Round Status</div>\\n\\t\\t\\t\\t\\t<div class=\\"stat-value {gameState.round_resolved ? 'status-ready' : 'status-waiting'}\\">\\n\\t\\t\\t\\t\\t\\t{gameState.round_resolved ? 'Resolved' : 'Pending'}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\"stat\\">\\n\\t\\t\\t\\t\\t<div class=\\"stat-label\\">Submissions</div>\\n\\t\\t\\t\\t\\t<div class=\\"stat-value {allSubmitted ? 'status-ready' : ''}\\">\\n\\t\\t\\t\\t\\t\\t{submissionCount}/4\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Submission Status -->\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h3>Submission Status</h3>\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Team</th>\\n\\t\\t\\t\\t\\t\\t<th>Submitted</th>\\n\\t\\t\\t\\t\\t\\t<th>Active</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t{#each TEAMS as team}\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td><strong>{team}</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\"badge {gameState.teams[team]?.submitted ? 'badge-success' : 'badge-warning'}\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{gameState.teams[team]?.submitted ? 'Yes' : 'No'}\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\"badge {gameState.active_users[team] ? 'badge-info' : 'badge-secondary'}\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{gameState.active_users[team] ? 'Online' : 'Offline'}\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t{/each}\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Allocations View -->\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h3>Team Allocations</h3>\\n\\t\\t\\t<div class=\\"table-scroll\\">\\n\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<th>Team</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>SE</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>TE</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>IM</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>BR</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>AR(L)</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>AR(M)</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>AR(H)</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>SP #1</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>SP #2</th>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t{#each TEAMS as team}\\n\\t\\t\\t\\t\\t\\t\\t{@const alloc = gameState.submissions[team]}\\n\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><strong>{team}</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{alloc?.SE ?? '-'}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{alloc?.TE ?? '-'}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{alloc?.IM ?? '-'}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{alloc?.BR ?? '-'}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{alloc?.AR.L ?? '-'}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{alloc?.AR.M ?? '-'}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{alloc?.AR.H ?? '-'}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{alloc?.SP[0] ? \`\${alloc.SP[0].target}/\${alloc.SP[0].tech}\` : '-'}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{alloc?.SP[1] ? \`\${alloc.SP[1].target}/\${alloc.SP[1].tech}\` : '-'}</td>\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t{/each}\\n\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t</table>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Scoreboard -->\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h3>Full Scoreboard</h3>\\n\\t\\t\\t<div class=\\"table-scroll\\">\\n\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<th>Team</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>GDP</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>W</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>POP</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>SE</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>TE</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>IM</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>K</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>TK</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>BR</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>TP(L)</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>TP(M)</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>TP(H)</th>\\n\\t\\t\\t\\t\\t\\t\\t<th>Score</th>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t{#each TEAMS as team}\\n\\t\\t\\t\\t\\t\\t\\t{@const st = gameState.teams[team]}\\n\\t\\t\\t\\t\\t\\t\\t{@const tp_base = st.TP.L + 2 * st.TP.M + 3 * st.TP.H}\\n\\t\\t\\t\\t\\t\\t\\t{@const tk_mult = 1 + 0.2 * Math.log1p(st.TK)}\\n\\t\\t\\t\\t\\t\\t\\t{@const tp_score = tp_base * tk_mult}\\n\\t\\t\\t\\t\\t\\t\\t{@const w_score = 2 * Math.sqrt(st.W)}\\n\\t\\t\\t\\t\\t\\t\\t{@const total_score = tp_score + w_score}\\n\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><strong>{team}</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{st.GDP.toFixed(0)}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{st.W}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{st.POP.toFixed(1)}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{st.SE}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{st.TE}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{st.IM}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{st.K.toFixed(1)}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{st.TK}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{st.BR_total}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td class={st.discovered.L ? 'discovered' : ''}>{st.TP.L}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td class={st.discovered.M ? 'discovered' : ''}>{st.TP.M}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td class={st.discovered.H ? 'discovered' : ''}>{st.TP.H}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><strong>{total_score.toFixed(1)}</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t{/each}\\n\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t</table>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Public Log -->\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h3>Public Event Log</h3>\\n\\t\\t\\t<div class=\\"log-container\\">\\n\\t\\t\\t\\t{#each gameState.public_log.slice().reverse() as log}\\n\\t\\t\\t\\t\\t<div class=\\"log-entry\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\"log-round\\">R{log.round}</span>\\n\\t\\t\\t\\t\\t\\t{log.event}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t{:else}\\n\\t\\t\\t\\t\\t<p class=\\"muted\\">No events yet</p>\\n\\t\\t\\t\\t{/each}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Admin Tools -->\\n\\t\\t<div class=\\"card\\">\\n\\t\\t\\t<h3>Admin Tools</h3>\\n\\t\\t\\t<div class=\\"admin-tools\\">\\n\\t\\t\\t\\t<button on:click={forceUnlockAll} class=\\"btn btn-warning\\">\\n\\t\\t\\t\\t\\tForce Unlock All Teams\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<div class=\\"force-submit-group\\">\\n\\t\\t\\t\\t\\t<select bind:value={forceSubmitTeam}>\\n\\t\\t\\t\\t\\t\\t<option value=\\"\\">Select Team</option>\\n\\t\\t\\t\\t\\t\\t{#each TEAMS as team}\\n\\t\\t\\t\\t\\t\\t\\t<option value={team}>{team}</option>\\n\\t\\t\\t\\t\\t\\t{/each}\\n\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t\\t<button on:click={forceMarkSubmitted} class=\\"btn btn-warning\\" disabled={!forceSubmitTeam}>\\n\\t\\t\\t\\t\\t\\tForce Mark Submitted\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t{/if}\\n</main>\\n\\n<style>\\n\\t:global(body) {\\n\\t\\tmargin: 0;\\n\\t\\tpadding: 0;\\n\\t\\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\\n\\t\\tbackground: #2d2d30;\\n\\t\\tmin-height: 100vh;\\n\\t}\\n\\n\\t.container {\\n\\t\\tmax-width: 1600px;\\n\\t\\tmargin: 0 auto;\\n\\t\\tpadding: 2rem 1rem;\\n\\t}\\n\\n\\t.header {\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: space-between;\\n\\t\\talign-items: center;\\n\\t\\tmargin-bottom: 2rem;\\n\\t}\\n\\n\\t.header-controls {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tgap: 1rem;\\n\\t}\\n\\n\\t.debug-toggle {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tgap: 0.5rem;\\n\\t\\tcolor: white;\\n\\t\\tfont-weight: 600;\\n\\t\\tcursor: pointer;\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\n\\t\\tpadding: 0.5rem 1rem;\\n\\t\\tborder-radius: 6px;\\n\\t\\tborder: 2px solid rgba(255, 255, 255, 0.3);\\n\\t\\ttransition: all 0.2s;\\n\\t}\\n\\n\\t.debug-toggle:hover {\\n\\t\\tbackground: rgba(255, 255, 255, 0.2);\\n\\t\\tborder-color: rgba(255, 255, 255, 0.5);\\n\\t}\\n\\n\\t.debug-toggle input[type=\\"checkbox\\"] {\\n\\t\\tcursor: pointer;\\n\\t\\twidth: 18px;\\n\\t\\theight: 18px;\\n\\t}\\n\\n\\t.debug-panel {\\n\\t\\tbackground: #fff3cd;\\n\\t\\tborder: 2px solid #ffc107;\\n\\t\\tpadding: 1rem;\\n\\t\\tmargin-bottom: 1rem;\\n\\t\\tborder-radius: 8px;\\n\\t\\tfont-family: 'Courier New', monospace;\\n\\t\\tfont-size: 0.9rem;\\n\\t}\\n\\n\\t.debug-panel p {\\n\\t\\tmargin: 0.5rem 0;\\n\\t}\\n\\n\\t.debug-panel strong {\\n\\t\\tcolor: #856404;\\n\\t}\\n\\n\\th1 {\\n\\t\\tcolor: white;\\n\\t\\tmargin: 0;\\n\\t\\tfont-size: 2rem;\\n\\t}\\n\\n\\th2, h3 {\\n\\t\\tmargin-top: 0;\\n\\t\\tcolor: #e0e0e0;\\n\\t}\\n\\n\\t.btn-logout {\\n\\t\\tpadding: 0.5rem 1rem;\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\n\\t\\tcolor: white;\\n\\t\\tborder: 2px solid rgba(255, 255, 255, 0.3);\\n\\t\\tborder-radius: 6px;\\n\\t\\tcursor: pointer;\\n\\t\\tfont-weight: 600;\\n\\t}\\n\\n\\t.btn-logout:hover {\\n\\t\\tbackground: rgba(255, 255, 255, 0.2);\\n\\t}\\n\\n\\t.card {\\n\\t\\tbackground: #3e3e42;\\n\\t\\tborder-radius: 12px;\\n\\t\\tpadding: 2rem;\\n\\t\\tbox-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\\n\\t\\tmargin-bottom: 2rem;\\n\\t}\\n\\n\\t.alert {\\n\\t\\tpadding: 1rem;\\n\\t\\tborder-radius: 8px;\\n\\t\\tmargin-bottom: 1rem;\\n\\t\\tfont-weight: 500;\\n\\t}\\n\\n\\t.alert-info {\\n\\t\\tbackground: #d1ecf1;\\n\\t\\tcolor: #0c5460;\\n\\t\\tborder: 1px solid #bee5eb;\\n\\t}\\n\\n\\t.control-grid {\\n\\t\\tdisplay: grid;\\n\\t\\tgrid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n\\t\\tgap: 1rem;\\n\\t\\talign-items: end;\\n\\t}\\n\\n\\t.stats-grid {\\n\\t\\tdisplay: grid;\\n\\t\\tgrid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n\\t\\tgap: 1.5rem;\\n\\t\\tmargin-top: 1rem;\\n\\t}\\n\\n\\t.stat {\\n\\t\\ttext-align: center;\\n\\t\\tpadding: 1rem;\\n\\t\\tbackground: #252526;\\n\\t\\tborder-radius: 8px;\\n\\t}\\n\\n\\t.stat-label {\\n\\t\\tfont-size: 0.9rem;\\n\\t\\tcolor: #9d9d9d;\\n\\t\\tmargin-bottom: 0.5rem;\\n\\t}\\n\\n\\t.stat-value {\\n\\t\\tfont-size: 1.8rem;\\n\\t\\tfont-weight: bold;\\n\\t\\tcolor: #8a9dff;\\n\\t}\\n\\n\\t.stat-value.status-ready {\\n\\t\\tcolor: #4ec9b0;\\n\\t}\\n\\n\\t.stat-value.status-waiting {\\n\\t\\tcolor: #dcdcaa;\\n\\t}\\n\\n\\tlabel {\\n\\t\\tdisplay: block;\\n\\t\\tmargin-bottom: 0.5rem;\\n\\t\\tfont-weight: 600;\\n\\t\\tcolor: #cccccc;\\n\\t}\\n\\n\\tinput[type=\\"number\\"] {\\n\\t\\twidth: 100%;\\n\\t\\tpadding: 0.5rem;\\n\\t\\tborder: 2px solid #555;\\n\\t\\tborder-radius: 6px;\\n\\t\\tfont-size: 1rem;\\n\\t\\tbackground: #252526;\\n\\t\\tcolor: #e0e0e0;\\n\\t\\tappearance: textfield;\\n\\t\\t-moz-appearance: textfield;\\n\\t}\\n\\n\\tinput[type=\\"number\\"]::-webkit-outer-spin-button,\\n\\tinput[type=\\"number\\"]::-webkit-inner-spin-button {\\n\\t\\t-webkit-appearance: none;\\n\\t\\tmargin: 0;\\n\\t}\\n\\n\\t.btn {\\n\\t\\tpadding: 0.75rem 1.5rem;\\n\\t\\tfont-size: 0.95rem;\\n\\t\\tfont-weight: 600;\\n\\t\\tborder: none;\\n\\t\\tborder-radius: 6px;\\n\\t\\tcursor: pointer;\\n\\t\\ttransition: all 0.2s;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t.btn:hover:not(:disabled) {\\n\\t\\ttransform: translateY(-1px);\\n\\t\\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\\n\\t}\\n\\n\\t.btn:disabled {\\n\\t\\topacity: 0.5;\\n\\t\\tcursor: not-allowed;\\n\\t}\\n\\n\\t.btn-primary { background: #667eea; color: white; }\\n\\t.btn-secondary { background: #6c757d; color: white; }\\n\\t.btn-success { background: #28a745; color: white; }\\n\\t.btn-info { background: #17a2b8; color: white; }\\n\\t.btn-danger { background: #dc3545; color: white; }\\n\\t.btn-warning { background: #ffc107; color: #000; }\\n\\t\\n\\t.btn-large {\\n\\t\\tfont-size: 1.1rem;\\n\\t\\tpadding: 1rem 2rem;\\n\\t}\\n\\n\\ttable {\\n\\t\\twidth: 100%;\\n\\t\\tborder-collapse: collapse;\\n\\t\\tmargin-top: 1rem;\\n\\t}\\n\\n\\tth, td {\\n\\t\\tpadding: 0.75rem;\\n\\t\\ttext-align: left;\\n\\t\\tborder-bottom: 1px solid #555;\\n\\t\\tcolor: #cccccc;\\n\\t}\\n\\n\\tth {\\n\\t\\tbackground: #252526;\\n\\t\\tfont-weight: 600;\\n\\t\\tcolor: #e0e0e0;\\n\\t}\\n\\n\\ttbody tr:hover {\\n\\t\\tbackground: #252526;\\n\\t}\\n\\n\\t.badge {\\n\\t\\tpadding: 0.25rem 0.75rem;\\n\\t\\tborder-radius: 12px;\\n\\t\\tfont-size: 0.85rem;\\n\\t\\tfont-weight: 600;\\n\\t}\\n\\n\\t.badge-success { background: #d4edda; color: #155724; }\\n\\t.badge-warning { background: #fff3cd; color: #856404; }\\n\\t.badge-info { background: #d1ecf1; color: #0c5460; }\\n\\t.badge-secondary { background: #e2e3e5; color: #383d41; }\\n\\n\\t.table-scroll {\\n\\t\\toverflow-x: auto;\\n\\t}\\n\\n\\t.discovered {\\n\\t\\tbackground: #d4edda;\\n\\t\\tfont-weight: bold;\\n\\t\\tcolor: #155724;\\n\\t}\\n\\n\\t.log-container {\\n\\t\\tmax-height: 400px;\\n\\t\\toverflow-y: auto;\\n\\t\\tpadding: 1rem;\\n\\t\\tbackground: #252526;\\n\\t\\tborder-radius: 6px;\\n\\t}\\n\\n\\t.log-entry {\\n\\t\\tpadding: 0.5rem;\\n\\t\\tmargin-bottom: 0.5rem;\\n\\t\\tbackground: #3e3e42;\\n\\t\\tborder-radius: 4px;\\n\\t\\tfont-size: 0.9rem;\\n\\t\\tcolor: #cccccc;\\n\\t}\\n\\n\\t.log-round {\\n\\t\\tdisplay: inline-block;\\n\\t\\tbackground: #667eea;\\n\\t\\tcolor: white;\\n\\t\\tpadding: 0.125rem 0.5rem;\\n\\t\\tborder-radius: 4px;\\n\\t\\tfont-weight: 600;\\n\\t\\tmargin-right: 0.5rem;\\n\\t}\\n\\n\\t.muted {\\n\\t\\tcolor: #9d9d9d;\\n\\t\\tfont-style: italic;\\n\\t}\\n\\n\\t.admin-tools {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-wrap: wrap;\\n\\t\\tgap: 1rem;\\n\\t\\talign-items: center;\\n\\t}\\n\\n\\t.force-submit-group {\\n\\t\\tdisplay: flex;\\n\\t\\tgap: 0.5rem;\\n\\t\\tflex: 1;\\n\\t\\tmin-width: 300px;\\n\\t}\\n\\n\\t.force-submit-group select {\\n\\t\\tflex: 1;\\n\\t\\tpadding: 0.75rem;\\n\\t\\tborder: 2px solid #555;\\n\\t\\tborder-radius: 6px;\\n\\t\\tfont-size: 0.95rem;\\n\\t\\tbackground: #252526;\\n\\t\\tcolor: #e0e0e0;\\n\\t}\\n</style>\\n"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let showDebug = false;
  $$result.css.add(css);
  return `${$$result.head += `<!-- HEAD_svelte-1jtlnuh_START -->${$$result.title = `<title>Game Master Control Panel</title>`, ""}<!-- HEAD_svelte-1jtlnuh_END -->`, ""} <main class="container svelte-1z10ly9"><div class="header svelte-1z10ly9"><h1 class="svelte-1z10ly9" data-svelte-h="svelte-htysh7">Game Master Control Panel</h1> <div class="header-controls svelte-1z10ly9"><label class="debug-toggle svelte-1z10ly9"><input type="checkbox" class="svelte-1z10ly9"${add_attribute("checked", showDebug, 1)}> <span data-svelte-h="svelte-kvcfns">Debug Mode</span></label> <button class="btn-logout svelte-1z10ly9" data-svelte-h="svelte-1tokop0">Logout</button></div></div>  ${``} ${`<div class="card svelte-1z10ly9" data-svelte-h="svelte-au1jjh"><h2 class="svelte-1z10ly9">Loading game state...</h2> <p>Please wait...</p></div>`} </main>`;
});
export {
  Page as default
};
